var ServiceUtils=ServiceUtils||{};ServiceUtils={getInputDomain:function(divId){var me=this;var iv={};$("#"+divId).find("input[type='checkbox']:checked").each(function(){var $obj=$(this);var ivId=$obj.attr("name");var ivVal=$obj.val();me.setObjVal(iv,ivId,ivVal)});$("#"+divId).find("input[type='text']").each(function(){var $obj=$(this);var ivId=$obj.attr("name");var ivVal=$obj.val();me.setObjVal(iv,ivId,ivVal)});$("#"+divId).find("input[type='password']").each(function(){var $obj=$(this);var ivId=$obj.attr("name");var ivVal=$obj.val();me.setObjVal(iv,ivId,ivVal)});$("#"+divId).find("input[type='hidden']").each(function(){var $obj=$(this);var ivId=$obj.attr("name");var ivVal=$obj.val();me.setObjVal(iv,ivId,ivVal)});$("#"+divId).find("select").each(function(){var $obj=$(this);var ivId=$obj.attr("name");var ivVal=$obj.val();me.setObjVal(iv,ivId,ivVal)});$("#"+divId).find("textarea").each(function(){var $obj=$(this);var ivId=$obj.attr("name");var ivVal=$obj.val();me.setObjVal(iv,ivId,ivVal)});$("#"+divId).find("input[type='radio']:checked").each(function(){var $obj=$(this);var ivId=$obj.attr("name");var ivVal=$obj.val();me.setObjVal(iv,ivId,ivVal)});return iv},setObjVal:function(obj,id,val){var me=this;if(me.isEmpty(obj)||me.isEmpty(id)){return}if(!obj.hasOwnProperty(id)){obj[id]=val}else{obj[id]=obj[id]+","+val}},isEmpty:function(obj){var me=this;if(null==obj||"undefined"==obj){return true}else{var objType=typeof obj;if("string"===objType&&me.getByteLen(obj)==0){return true}if($.isArray(obj)&&obj.length==0){return true}return false}},getByteLen:function(str){var l=str.length;var n=l;for(var i=0;i<l;i++){if(str.charCodeAt(i)<0||str.charCodeAt(i)>255){n++}}return n},genFormElemValue:function(formId,elemName){if(formId){return jQuery("#"+formId).find("[name="+elemName+"]").val()}return null},getURLParam:function(href){var retval={};href=decodeURI(href);if(href&&-1==href.indexOf("?")){href="?"+href}if(href&&href.length>0){var args=href.split("?");if(args[0]!==href){var params=args[1];args=params.split("&");if(args[0].length>0){for(var index=0;index<args.length;index++){var param=args[index].split("=");if(param.length>1){var name=param[0];retval[name]=param[1]}}}}}return retval},getCookie:function(name){var arr=document.cookie.match(new RegExp("(^| )"+name+"=([^;]*)(;|$)"));if(null!=arr){return decodeURIComponent(arr[2])}return null},setCookie:function(cookieName,cookieValue,expires){var options={};options.expires=expires;cookieValue=escape(cookieValue);$.cookie(cookieName,cookieValue,options)},strLen:function(str){if(str){var cArr=str.match(/[^\x00-\xff]/ig);return str.length+(null==cArr?0:cArr.length)}return 0},subStr:function(sourceStr,len){var subStr="";var currLen=0;if(sourceStr){if(len<1){return""}var strLen=sourceStr.length;for(var i=0;i<strLen;i++){var tmpStr=sourceStr[i];var cArr=tmpStr.match(/[^\x00-\xff]/ig);currLen+=(null==cArr?1:2);if(currLen>=len||(i==strLen-1)){subStr=sourceStr.substring(0,i+1);break}}}return subStr},trimStr:function(str){return str.replace(/(^\s*)|(\s*$)/g,"")},trimAllStr:function(str){return str.replace(/\s/g,"")},addBookmark:function(sURL,sTitle){try{window.external.addFavorite(sURL,sTitle)}catch(e){try{window.sidebar.addPanel(sTitle,sURL,"")}catch(e){}}},checkEmail:function(str){var patrn=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!patrn.test(str)){return false}else{return true}},isNumber:function(val){var reg=/^[\d|\.|,]+$/;return reg.test(val)},isTime:function(val){var reg=/^\d{4}-\d{2}-\d{2}\s\d{2}:\d{2}$/;return reg.test(val)},x:function(){return Browser.isIE?event.x+document.documentElement.scrollLeft-2:e.pageX},y:function(){return Browser.isIE?event.y+document.documentElement.scrollTop-2:e.pageY},formatDate:function(date,format){if(!date){return}if(!format){format="yyyy-MM-dd"}switch(typeof date){case"string":date=new Date(date.replace(/-/,"/"));break;case"number":date=new Date(date);break}if(!date instanceof Date){return}var dict={"yyyy":date.getFullYear(),"M":date.getMonth()+1,"d":date.getDate(),"H":date.getHours(),"m":date.getMinutes(),"s":date.getSeconds(),"MM":(""+(date.getMonth()+101)).substr(1),"dd":(""+(date.getDate()+100)).substr(1),"HH":(""+(date.getHours()+100)).substr(1),"mm":(""+(date.getMinutes()+100)).substr(1),"ss":(""+(date.getSeconds()+100)).substr(1)};return format.replace(/(yyyy|MM?|dd?|HH?|ss?|mm?)/g,function(){return dict[arguments[0]]})},isMobile:function(val){var patt=/^(13[0-9]|14[0-9]|15[0-9]|18[0-9]|17[0-9])\d{8}$/;return patt.test(val)},isTel:function(val){var reg=/^0\d{2,3}-?\d{7,8}$/;return reg.test(val)}};Date.prototype.pattern=function(fmt){var o={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S":this.getMilliseconds()};var week={"0":"/u65e5","1":"/u4e00","2":"/u4e8c","3":"/u4e09","4":"/u56db","5":"/u4e94","6":"/u516d"};if(/(y+)/.test(fmt)){fmt=fmt.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))
}if(/(E+)/.test(fmt)){fmt=fmt.replace(RegExp.$1,((RegExp.$1.length>1)?(RegExp.$1.length>2?"/u661f/u671f":"/u5468"):"")+week[this.getDay()+""])}for(var k in o){if(new RegExp("("+k+")").test(fmt)){fmt=fmt.replace(RegExp.$1,(RegExp.$1.length==1)?(o[k]):(("00"+o[k]).substr((""+o[k]).length)))}}return fmt};